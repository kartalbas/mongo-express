{% if error %}
<div class="alert alert-danger">{{ error }}</div>
{% elif results.length == 0 %}
<p class="text-muted">No results returned.</p>
{% else %}
<div class="table-responsive" style="max-height: 400px; overflow-y: auto;">
  <table class="table table-bordered table-striped table-sm mb-0" style="font-size: 0.8125rem;">
    <thead class="sticky-top bg-body">
      <tr>
        {% for key in resultColumns %}
        <th>{{ key }}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for row in results %}
      <tr>
        {% for key in resultColumns %}
        <td style="max-width: 300px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
          {{ row[key] | dump | safe }}
        </td>
        {% endfor %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<p class="text-muted mt-1" style="font-size: 0.75rem;">{{ results.length }} document(s) returned</p>
{% endif %}
